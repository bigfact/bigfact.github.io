(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(t,e,n){},141:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),o=n(7),r=n.n(o),s=(n(76),n(8)),c=n(9),l=n(22),u=n(21),h=n(23),d=(n(77),n(66)),f=n.n(d),v=(n(125),n(68)),m=n.n(v),p=(n(135),n(69)),w=n.n(p),y=(n(64),n(49)),b=n.n(y),k=(n(139),function(){function t(e,n){Object(s.a)(this,t);var i="object"===typeof e?e:{title:e,timeList:n};this.title=i.title||"",this.startTime=i.startTime||0,this.relativeStr=i.relativeStr||"",this.timeList=i.timeList||[],this.checkTimeList(),this.createAt=i.createAt||(this.timeList[0]||{}).start||Date.now()}return Object(c.a)(t,[{key:"checkTimeList",value:function(){this.timeList=this.timeList.filter(function(t){return"undefined"!==t.start&&"undefined"!==typeof t.end})}},{key:"start",value:function(){this.startTime||(this.startTime=Date.now(),this.timeList.push({start:this.startTime,end:0}))}},{key:"stop",value:function(){this.startTime=0;try{this.timeList[this.timeList.length-1].end=Date.now()}catch(t){}}},{key:"update",value:function(){var t=Date.now(),e=Date.now()-this.startTime,n="";if(e>=864e5){var i=parseInt(e/864e5);e-=864e5*i,n+=i+"\u5929"}if(e>=36e5){var a=parseInt(e/36e5);e-=36e5*a,n+=a+"\u5c0f\u65f6"}if(e>=6e4){var o=parseInt(e/6e4);e-=6e4*o,n+=o+"\u5206"}if(e>=1e3){var r=parseInt(e/1e3);e-=1e3*r,n+=r+"\u79d2"}this.timeList[this.timeList.length-1].end=t,this.relativeStr=n}}]),t}()),g=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"handlerClick",value:function(){var t=Date.now();t-this.time>100&&t-this.time<300?(this.time=0,this.props.onDoubleTap()):this.time=t}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:"c-action",onClick:function(){t.handlerClick()}},this.props.children)}}]),e}(a.a.Component),L=function(){function t(){Object(s.a)(this,t)}return Object(c.a)(t,null,[{key:"get",value:function(t){var e=localStorage.getItem(t);try{e=JSON.parse(e)}catch(n){}return e}},{key:"set",value:function(t,e){try{e=JSON.stringify(e)}catch(n){}localStorage.setItem(t,e)}}]),t}(),j=b.a.Item,O={vivible:!1,value:""},E=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).localKey="waid-index-record-list",n.state={recordList:n.loadeRecordList(),modal:O},n.timerID=null,n}return Object(h.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.start()}},{key:"componentDidUpdate",value:function(t,e){this.storeRecordList()}},{key:"componentWillUnmount",value:function(){this.stop()}},{key:"start",value:function(t){var e=this,n=this.state.recordList,i=n[t]||new k;i.startTime?i.stop():i.start();var a=!1;n.forEach(function(t){a=a||t.startTime}),a?this.timerID||(this.timerID=setInterval(function(){n.forEach(function(t){t.startTime&&t.update()}),e.setState({recordList:n})},1e3)):this.stop()}},{key:"stop",value:function(){clearInterval(this.timerID),this.timerID=null,this.storeRecordList()}},{key:"addItem",value:function(){if(!O.value)return alert("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u6807\u9898"),!1;var t=this.state.recordList;return t.push(new k(O.value)),this.setState({recordList:t}),!0}},{key:"switchModal",value:function(){O.vivible=!O.vivible,O.value=O.vivible?"":O.value,this.setState({modal:O})}},{key:"handleInputChange",value:function(t){O.value=t,this.setState({modal:O})}},{key:"loadeRecordList",value:function(){var t=L.get(this.localKey)||[],e=[];return t.forEach(function(t){e.push(new k(t))}),e}},{key:"storeRecordList",value:function(){L.set(this.localKey,this.state.recordList)}},{key:"render",value:function(){var t=this;return a.a.createElement("section",{className:"index"},a.a.createElement(b.a,{renderHeader:function(){return a.a.createElement("div",{className:"index-list-header"},"\u6211\u5728\u505a\u4e9b\u4ec0\u4e48\uff1f!")},className:"index-list"},this.state.recordList.map(function(e,n){return a.a.createElement(g,{onDoubleTap:function(){return t.start(n)},key:n},a.a.createElement(j,{extra:e.relativeStr},e.title))})),a.a.createElement("div",{className:"index-add float-btn",onClick:function(){return t.switchModal()}},a.a.createElement(w.a,{type:"cross",size:"lg",color:"#666"})),a.a.createElement(f.a,{visible:this.state.modal.vivible,transparent:!0,maskClosable:!0,title:"\u8f93\u5165\u4e8b\u9879\u540d\u79f0",footer:[{text:"\u786e\u8ba4",onPress:function(){t.addItem()&&t.switchModal()}}],onClose:function(){t.switchModal()}},a.a.createElement("div",{className:"index-modal-input-box btn"},a.a.createElement(m.a,{clear:!0,maxLength:"30",onChange:function(e){return t.handleInputChange(e)}}))))}}]),e}(a.a.Component),I=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return a.a.createElement("section",{className:"app"},a.a.createElement(E,null))}}]),e}(a.a.Component),D=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function T(t,e){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}}).catch(function(t){console.error("Error during service worker registration:",t)})}r.a.render(a.a.createElement(I,null),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/waid",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/waid","/service-worker.js");D?(function(t,e){fetch(t).then(function(n){var i=n.headers.get("content-type");404===n.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):T(t,e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e,t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):T(e,t)})}}()},70:function(t,e,n){t.exports=n(141)},76:function(t,e,n){}},[[70,1,2]]]);
//# sourceMappingURL=main.1f025487.chunk.js.map