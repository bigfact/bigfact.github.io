{"version":3,"sources":["uitls/common.js","models/WAIDMatterRecord.js","models/WAIDMatter.js","components/CAction.js","uitls/Store.js","config.js","services/WAIDMatterList.js","views/Index/index.js","services/Home.js","services/Daily.js","views/Daily/index.js","views/MigrateAndRecover/index.js","uitls/environment.js","uitls/title.js","uitls/serviceWorker.js","views/Setting/index.js","uitls/version.js","services/Detail.js","views/Detail/index.js","views/App/index.js","index.js"],"names":["getRelativeDateTimeString","start","end","Date","now","relativeTime","str","days","parseInt","hours","minutes","seconds","WAIDMatterRecord","record","arguments","length","undefined","Object","classCallCheck","this","comment","WAIDMatter","waidMatter","title","recordList","timeList","createAt","relativeStr","checkRecordList","updateRelativeStr","forEach","el","push","_WAIDMatterRecord","getLastRecord","stop","getDateTimeString","err","CAction","_this","possibleConstructorReturn","getPrototypeOf","call","_longPressTimerId","_longPressTime","action","_onDoubleTap","props","onDoubleTap","_onLongPress","onLongPress","_onTouchStart","onTouchStart","_onTouchMove","onTouchMove","_onTouchEnd","onTouchEnd","_onClick","onClick","time","event","_this2","clearTimeout","setTimeout","preventDefault","_this3","react_default","a","createElement","className","handlerClick","handlerTouchStart","handlerTouchMove","handleTouchEnd","children","React","Component","Local","createClass","key","value","tmp","localStorage","getItem","JSON","parse","stringify","setItem","clear","LocalKeys","WAIDMatterList","LocalKeyValues","values","LocalKey","getWAIDMatterList","localWAIDMatterList","get","existMatter","getWAIDMatterByTitle","tmpMatter","concat","toConsumableArray","sort","el0","el1","Array","find","Item","list_default","Index","list","visible","getData","state","waidMatterList","pressingItemIndex","timerID","update","prevProps","prevState","storeWAIDMatterList","stopTimer","index","switchStatus","isActive","splice","unshift","setState","actived","startTimer","_actives","_unactives","setInterval","splitListByStatus","clearInterval","storeWaidMatterList","getStoreObject","set","saveWAIDMatterList","isReject","window","prompt","alert","item","keyWord","indexOf","history","replace","encodeURIComponent","input_item_default","placeholder","onChange","filterListByKeyWord","map","CAction_CAction","setPressingItem","gotoDetail","extra","addItem","icon_default","type","size","color","getDateList","dateWAIDMatterObj","date","dayjs","format","waidMatterTmp","startTime","dateList","waidMatters","isAfter","Daily","dateItem","dateIndex","style","zIndex","Daily_Item","tabs","migrate","doing","recover","MigrateAndRecover","loadMigrateData","localValueObj","val","btoa","md5","valArr","split","objVal","md5Val","pass","decodeURIComponent","atob","confirm","tabs_default","initalPage","swipeable","renderTabBar","DefaultTabBar","textarea_item_default","rows","react_clipboard_default","data-clipboard-text","onSuccess","onError","button_default","handleInputChange","recoverData","loading","getUserAgent","navigator","userAgent","ios","test","document","iframe","src","display","onload","tid","remove","body","appendChild","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","catch","error","Setting","label","path","hint","setTitle","handlerAction","clearData","result","updateApp","Promise","resolve","reject","ready","unregister","reload","Setting_Item","arrow","handlerListItemClick","getMatterByTitle","preRecord","relativeStrDiffPreRecord","startStr","endStr","reverse","createAtStr","createAtStrDiffNow","lastRecord","relativeStrDiffLastRecord","Detail","params","matter","Detail_Item","PopoverItem","popover_default","popover","vivible","App","opt","handlePopoverVisibleChange","react_router_dom","react_router","exact","component","mask","overlayClassName","overlay","data-title","align","overflow","adjustY","adjustX","offset","placement","onVisibleChange","onSelect","onPopoverSelect","locale","ReactDOM","render","src_views_App","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","status","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.07d99515.chunk.js","sourcesContent":["export function getRelativeDateTimeString(start, end) {\n  start = start || Date.now()\n  end = end || Date.now()\n  let relativeTime = end - start\n  let str = ''\n  let dTime = 1 * 24 * 60 * 60 * 1000\n  let hTime = 1 * 60 * 60 * 1000\n  let mTime = 1 * 60 * 1000\n  let sTime = 1 * 1000\n  if (relativeTime >= dTime) {\n    let days = parseInt(relativeTime / dTime)\n    relativeTime = relativeTime - days * dTime\n    str += days + '天'\n  }\n  if (relativeTime >= hTime) {\n    let hours = parseInt(relativeTime / hTime)\n    relativeTime = relativeTime - hours * hTime\n    str += hours + '小时'\n  }\n  if (relativeTime >= mTime) {\n    let minutes = parseInt(relativeTime / mTime)\n    relativeTime = relativeTime - minutes * mTime\n    str += minutes + '分'\n  }\n  if (relativeTime >= sTime) {\n    let seconds = parseInt(relativeTime / sTime)\n    relativeTime = relativeTime - seconds * sTime\n    str += seconds + '秒'\n  }\n  if (!str) {\n    str = '0秒'\n  }\n  return str\n}\n","/**\n * WAID 事件记录\n * @module /models/WAIDMatterRecord\n */\n\nimport { getRelativeDateTimeString } from '../uitls/common'\n\n/**\n * WAID 事件记录\n */\nexport default class WAIDMatterRecord {\n  constructor(record = {}) {\n    this.start = record.start || 0\n    this.end = record.end || 0\n    this.comment = record.comment || ''\n  }\n\n  getDateTimeString() {\n    return getRelativeDateTimeString(this.start, this.end)\n  }\n}\n","/**\n * WAID 事件\n * @module /models/WAIDMatter\n */\n\nimport WAIDMatterRecord from './WAIDMatterRecord'\nimport { getRelativeDateTimeString } from '../uitls/common'\n\n/**\n * WAID 事件\n */\nexport default class WAIDMatter {\n  constructor(waidMatter = {}) {\n    this.title = waidMatter.title || ''\n    this.recordList = waidMatter.recordList || waidMatter.timeList || []\n    this.createAt = waidMatter.createAt || (this.recordList[0] || {}).start || Date.now()\n    this.relativeStr = ''\n    this.checkRecordList()\n    this.updateRelativeStr()\n  }\n\n  checkRecordList() {\n    let recordList = []\n    this.recordList.forEach(el => {\n      if (el.start !== 'undefined' && typeof el.end !== 'undefined') {\n        recordList.push(new WAIDMatterRecord(el))\n      }\n    })\n    this.recordList = recordList\n  }\n\n  switchStatus() {\n    let _WAIDMatterRecord = this.getLastRecord()\n    if (!_WAIDMatterRecord.start || (_WAIDMatterRecord.start && _WAIDMatterRecord.end)) {\n      _WAIDMatterRecord = new WAIDMatterRecord({\n        start: Date.now(),\n        end: 0\n      })\n      this.recordList.push(_WAIDMatterRecord)\n    } else if (!_WAIDMatterRecord.stop) {\n      this.getLastRecord().end = Date.now()\n    }\n  }\n\n  updateRelativeStr(record) {\n    try {\n      record = record || this.getLastRecord()\n      this.relativeStr = record.getDateTimeString()\n    } catch (err) {\n      this.relativeStr = getRelativeDateTimeString(this.createAt)\n    }\n  }\n\n  getLastRecord() {\n    return this.recordList[this.recordList.length - 1] || {}\n  }\n\n  isActive() {\n    return this.getLastRecord().end === 0\n  }\n\n  getStoreObject() {\n    return {\n      title: this.title,\n      recordList: this.recordList,\n      createAt: this.createAt\n    }\n  }\n}\n","/**\n * 动作捕捉组件\n * @module /components/CAction\n * @example\n * // handlerDoubleTap\n * render() {\n *   return <CAction onDoubleTap={() => { this.handlerDoubleTap() }}>handlerDoubleTap</CAction>\n * }\n */\nimport React from 'react'\n\nexport default class CAction extends React.Component {\n  constructor() {\n    super()\n    this._longPressTimerId = null\n    this._longPressTime = 500\n    this.action = ''\n  }\n\n  componentDidMount() {\n    this._onDoubleTap = typeof this.props.onDoubleTap === 'function' ? this.props.onDoubleTap : function () {}\n    this._onLongPress = typeof this.props.onLongPress === 'function' ? this.props.onLongPress : function () {}\n    this._onTouchStart = typeof this.props.onTouchStart === 'function' ? this.props.onTouchStart : function () {}\n    this._onTouchMove = typeof this.props.onTouchMove === 'function' ? this.props.onTouchMove : function () {}\n    this._onTouchEnd = typeof this.props.onTouchEnd === 'function' ? this.props.onTouchEnd : function () {}\n    this._onClick = typeof this.props.onClick === 'function' ? this.props.onClick : function () {}\n  }\n\n  componentDidUpdate() {}\n\n  componentWillUnmount() {}\n\n  handlerClick() {\n    let now = Date.now()\n    if (now - this.time > 100 && now - this.time < 300) {\n      this.time = 0\n      this._onDoubleTap()\n    } else {\n      this.time = now\n    }\n    this._onClick()\n  }\n\n  handlerTouchStart(event) {\n    clearTimeout(this._longPressTimerId)\n    this._longPressTimerId = setTimeout(() => {\n      clearTimeout(this._longPressTimerId)\n      this.action = 'LongPress'\n      this._onLongPress()\n    }, this._longPressTime)\n    this._onTouchStart(event)\n  }\n\n  handlerTouchMove(event) {\n    clearTimeout(this._longPressTimerId)\n    this._onTouchMove(event)\n  }\n\n  handleTouchEnd(event) {\n    clearTimeout(this._longPressTimerId)\n    if (this.action === 'LongPress') {\n      this.action = ''\n      event.preventDefault()\n    } else {\n      this._onTouchEnd(event)\n    }\n  }\n\n  render() {\n    return (\n      <div\n        className=\"c-action\"\n        onClick={() => {\n          this.handlerClick()\n        }}\n        onTouchStart={event => {\n          this.handlerTouchStart(event)\n        }}\n        onTouchMove={event => {\n          this.handlerTouchMove(event)\n        }}\n        onTouchEnd={event => {\n          this.handleTouchEnd(event)\n        }}\n      >\n        {this.props.children}\n      </div>\n    )\n  }\n}\n","export class Local {\n  static get(key) {\n    let tmp = localStorage.getItem(key)\n    try {\n      tmp = JSON.parse(tmp)\n    } catch (err) {}\n    return tmp\n  }\n\n  static set(key, value) {\n    try {\n      value = JSON.stringify(value)\n    } catch (err) {}\n    localStorage.setItem(key, value)\n  }\n\n  static clear() {\n    localStorage.clear()\n  }\n}\n","/**\n * 应用配置\n * @module /config\n */\n\n/**\n * 所有本地存储使用的 Key 和使用模块的对应关系\n */\nexport const LocalKeys = {\n  WAIDMatterList: 'waid-index-record-list'\n}\n\n/**\n * 所有本地存储使用的 Key 的值\n */\nexport const LocalKeyValues = Object.values(LocalKeys)\n\nexport default {\n  LocalKeys\n}\n","/**\n * WAIDMatterList 数据获取、存储模块\n * @module /services/WAIDMatterList\n */\n\nimport { Local } from '../uitls/Store'\nimport { LocalKeys } from '../config'\nimport WAIDMatter from '../models/WAIDMatter'\n\nconst LocalKey = LocalKeys.WAIDMatterList\n\n/**\n * 获取事项列表\n * @returns {Array}\n */\nexport function getWAIDMatterList() {\n  let localWAIDMatterList = Local.get(LocalKey) || []\n  const WAIDMatterList = []\n  localWAIDMatterList.forEach(el => {\n    // 不处理标题为空事项\n    if (el.title === '') {\n      return\n    }\n    // 合并同名事项\n    const existMatter = getWAIDMatterByTitle(WAIDMatterList, el.title)\n    const tmpMatter = new WAIDMatter(el)\n    if (existMatter) {\n      existMatter.recordList = [...existMatter.recordList, ...tmpMatter.recordList]\n      existMatter.recordList.sort((el0, el1) => {\n        return el0.start - el1.start\n      })\n      return\n    }\n    // 插入\n    WAIDMatterList.push(tmpMatter)\n  })\n  return WAIDMatterList\n}\n\n/**\n * 根据标题获取事项\n * @param {Array} WAIDMatterList 事项列表\n * @param {String} title 标题\n * @returns {Object}\n */\nexport function getWAIDMatterByTitle(WAIDMatterList = [], title = '') {\n  WAIDMatterList = WAIDMatterList instanceof Array ? WAIDMatterList : getWAIDMatterList()\n  return WAIDMatterList.find(el => {\n    return el.title === title\n  })\n}\n\n/**\n * 保存事项列表\n * @param {Array} WAIDMatterList 事项列表\n */\nexport function saveWAIDMatterList(waidMatterList = []) {\n  const storeWaidMatterList = []\n  waidMatterList.forEach(el => {\n    storeWaidMatterList.push(el.getStoreObject())\n  })\n  Local.set(LocalKey, storeWaidMatterList)\n}\n","/**\n * 首页 - 我在做些什么？！\n * @module /views/Index/index\n */\n\nimport './index.scss'\nimport React from 'react'\nimport { List, Icon, InputItem } from 'antd-mobile'\nimport WAIDMatter from '../../models/WAIDMatter'\nimport CAction from '../../components/CAction'\nimport { saveWAIDMatterList, getWAIDMatterByTitle } from '../../services/WAIDMatterList'\nimport { getData } from '../../services/Home'\n\nconst Item = List.Item\n\nclass Index extends React.Component {\n  constructor(props) {\n    super(props)\n    const { list } = getData()\n    this.state = {\n      waidMatterList: list,\n      pressingItemIndex: null\n    }\n    this.timerID = null\n  }\n\n  componentDidMount() {\n    this.update()\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    this.storeWAIDMatterList()\n  }\n\n  componentWillUnmount() {\n    this.stopTimer()\n  }\n\n  update(index) {\n    let { waidMatterList } = this.state\n\n    if (index >= 0) {\n      // 激活当前事项并置顶\n      let waidMatter = waidMatterList[index]\n      waidMatter.switchStatus()\n      if (waidMatter.isActive()) {\n        waidMatterList.splice(index, 1)\n        waidMatterList.unshift(waidMatter)\n      }\n      this.setState({\n        waidMatterList: waidMatterList\n      })\n    }\n\n    // 列表项激活状态判定\n    let actived = false\n    waidMatterList.forEach(el => {\n      actived = actived || el.isActive()\n    })\n    if (actived) {\n      this.startTimer()\n    } else {\n      this.stopTimer()\n    }\n  }\n\n  /**\n   * 拆分激活和非激活状态事项，并更新激活状态事项显示时间\n   */\n  splitListByStatus() {\n    let { waidMatterList } = this.state\n    let _actives = []\n    let _unactives = []\n    waidMatterList.forEach(el => {\n      if (el.isActive()) {\n        el.updateRelativeStr()\n        _actives.push(el)\n      } else {\n        _unactives.push(el)\n      }\n    })\n    this.setState({\n      waidMatterList: [..._actives, ..._unactives]\n    })\n  }\n\n  startTimer() {\n    if (this.timerID) return\n    this.timerID = setInterval(() => {\n      this.splitListByStatus()\n    }, 1000)\n  }\n\n  stopTimer() {\n    clearInterval(this.timerID)\n    this.timerID = null\n    this.storeWAIDMatterList()\n  }\n\n  storeWAIDMatterList() {\n    saveWAIDMatterList(this.state.waidMatterList)\n  }\n\n  addItem() {\n    let value = ''\n    let isReject = true\n    while (isReject) {\n      value = window.prompt('输入事项名称', this.state.waidMatterList.length > 0 ? '' : '早餐')\n      isReject = false\n      if (!value && value !== null) {\n        isReject = true\n        alert('请输入正确的事项名称')\n      }\n      if (getWAIDMatterByTitle(this.state.waidMatterList, value)) {\n        isReject = true\n        alert('已有同名事项存在')\n      }\n    }\n    if (value) {\n      let { waidMatterList } = this.state\n      let waidMatter = new WAIDMatter({\n        title: value\n      })\n      waidMatter.visible = true\n      waidMatterList.unshift(waidMatter)\n      this.setState({\n        waidMatterList: waidMatterList\n      })\n    }\n  }\n\n  setPressingItem(item) {\n    this.setState({\n      pressingItemIndex: item\n    })\n  }\n\n  filterListByKeyWord(keyWord) {\n    let waidMatterList = this.state.waidMatterList\n    waidMatterList.forEach(item => {\n      item.visible = item.title.indexOf(keyWord) >= 0 || !keyWord\n    })\n    this.setState({\n      waidMatterList: waidMatterList\n    })\n  }\n\n  gotoDetail(item) {\n    this.props.history.replace('/detail/' + encodeURIComponent(item.title))\n  }\n\n  render() {\n    return (\n      <section className=\"index\">\n        <div className=\"index-header\">\n          <div className=\"index-header-title\">我在做些什么？!</div>\n          <InputItem\n            clear\n            placeholder=\"输入关键字进行搜索\"\n            onChange={value => {\n              this.filterListByKeyWord(value)\n            }}\n          />\n        </div>\n        {/* 事项列表 */}\n        <List className=\"index-list\">\n          {this.state.waidMatterList.map((item, index) =>\n            item.visible ? (\n              <CAction\n                onLongPress={() => {\n                  this.update(index)\n                  this.setPressingItem()\n                }}\n                onTouchStart={() => {\n                  this.setPressingItem(index)\n                }}\n                onTouchMove={() => {\n                  this.setPressingItem()\n                }}\n                onTouchEnd={() => {\n                  this.setPressingItem()\n                }}\n                onClick={() => {\n                  this.gotoDetail(item)\n                }}\n                key={index}\n              >\n                <Item extra={item.relativeStr} className={[item.isActive() && 'index-list-item-active', this.state.pressingItemIndex === index && 'index-list-item-pressing']}>\n                  <span className=\"index-list-item-title\">{item.title}</span>\n                </Item>\n              </CAction>\n            ) : (\n              ''\n            )\n          )}\n        </List>\n        {/* 添加按钮 */}\n        <div className=\"index-add float-btn\" onClick={() => this.addItem()}>\n          <Icon type=\"cross\" size=\"lg\" color=\"#666\" />\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default Index\n","import { getWAIDMatterList } from './WAIDMatterList'\n\nexport function getData() {\n  const list = getWAIDMatterList()\n  list.forEach(el => {\n    el.visible = true\n  })\n  return {\n    list\n  }\n}\n","import WAIDMatter from '../models/WAIDMatter'\nimport dayjs from 'dayjs'\nimport { getWAIDMatterList } from './WAIDMatterList'\n\nexport function getDateList() {\n  let waidMatterList = getWAIDMatterList()\n  let dateWAIDMatterObj = {}\n  // 按天拆分每个事项记录的时间段记录\n  // 只要开始时间在今天，那么整个时间段都放到今天\n  waidMatterList.forEach(el => {\n    let waidMatter = new WAIDMatter(el)\n    waidMatter.recordList.forEach(el => {\n      let date = dayjs(el.start).format('YYYY-MM-DD dddd')\n      dateWAIDMatterObj[date] = dateWAIDMatterObj[date] || []\n      let waidMatterTmp = new WAIDMatter(waidMatter)\n      waidMatterTmp.recordList = [el]\n      waidMatterTmp.startTime = el.start\n      waidMatterTmp.updateRelativeStr(el)\n      dateWAIDMatterObj[date].push(waidMatterTmp)\n    })\n  })\n\n  let dateList = []\n  for (let key in dateWAIDMatterObj) {\n    dateWAIDMatterObj[key].sort((el0, el1) => {\n      return el0.startTime - el1.startTime\n    })\n    dateList.push({\n      date: key,\n      waidMatters: dateWAIDMatterObj[key]\n    })\n  }\n  dateList.sort((el0, el1) => {\n    return dayjs(el0.date).isAfter(dayjs(el1.date)) ? -1 : 1\n  })\n  // console.log(dateList)\n  return dateList\n}\n","/**\n * 日常\n * @module /views/Daily/index\n */\n\nimport './index.scss'\nimport React from 'react'\nimport { List } from 'antd-mobile'\nimport { getDateList } from '../../services/Daily'\n\nconst Item = List.Item\n\nclass Daily extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      waidMatterList: getDateList()\n    }\n  }\n\n  render() {\n    return (\n      <section className=\"daily\">\n        {this.state.waidMatterList.map((dateItem, dateIndex) => (\n          <div className=\"dailiy-list-box\" key={dateIndex}>\n            <div className=\"daily-list-header\" style={{ zIndex: dateIndex + 99 }}>\n              {dateItem.date}\n            </div>\n            <List className=\"daily-list\">\n              {dateItem.waidMatters.map((waidMatter, index) => (\n                <Item extra={waidMatter.relativeStr} key={index}>\n                  {waidMatter.title}\n                </Item>\n              ))}\n            </List>\n          </div>\n        ))}\n        <div className=\"daily-footer\">-- 到底了 --</div>\n      </section>\n    )\n  }\n}\n\nexport default Daily\n","/*\n * 数据备份与恢复\n * @module /views/MigrateAndRecover/index\n * @since 2019-05-18 14:35:00\n */\nimport './index.scss'\nimport { Tabs, TextareaItem, Button } from 'antd-mobile'\nimport React from 'react'\nimport { LocalKeyValues } from '../../config'\nimport { Local } from '../../uitls/Store'\nimport md5 from 'blueimp-md5'\nimport Clipboard from 'react-clipboard.js'\n\nconst tabs = [{ title: '数据备份' }, { title: '数据恢复' }]\n\nconst migrate = {\n  value: '',\n  doing: false\n}\n\nconst recover = {\n  value: '',\n  doing: false\n}\n\nclass MigrateAndRecover extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      migrate,\n      recover\n    }\n  }\n\n  componentDidMount() {\n    this.loadMigrateData()\n  }\n\n  loadMigrateData() {\n    let localValueObj = ''\n    LocalKeyValues.forEach(el => {\n      let val = Local.get(el)\n      if (val !== '' && val !== null) {\n        localValueObj = localValueObj || {}\n        localValueObj[el] = Local.get(el)\n      }\n    })\n    if (localValueObj) {\n      migrate.value = btoa(encodeURIComponent(JSON.stringify(localValueObj)))\n      migrate.value = migrate.value + '|' + md5(migrate.value)\n      this.setState({\n        migrate: migrate\n      })\n    }\n  }\n\n  handleInputChange(value) {\n    recover.value = value\n    this.setState({\n      recover\n    })\n  }\n\n  recoverData() {\n    if (recover.value) {\n      let valArr = recover.value.split('|')\n      let objVal = valArr[0]\n      let md5Val = valArr[1]\n      let pass = true\n      if (md5(objVal) !== md5Val) pass = false\n      let localValueObj = {}\n      try {\n        localValueObj = JSON.parse(decodeURIComponent(atob(objVal)))\n      } catch (err) {\n        pass = false\n      }\n      if (pass) {\n        if (window.confirm('准备完成，是否进行恢复？')) {\n          for (let key in localValueObj) {\n            Local.set(key, localValueObj[key])\n          }\n          migrate.value = recover.value\n          this.setState({\n            migrate\n          })\n          alert('数据恢复完成！')\n        }\n      } else {\n        alert('应用数据检查失败，请重新粘贴！')\n        recover.value = ''\n        this.setState({\n          recover\n        })\n      }\n    }\n  }\n\n  render() {\n    return (\n      <section className=\"migrateandrecover\">\n        <Tabs\n          tabs={tabs}\n          initalPage={'t2'}\n          swipeable={false}\n          renderTabBar={props => {\n            return (\n              <div className=\"migrateandrecover-tab-box\">\n                <Tabs.DefaultTabBar {...props} />\n              </div>\n            )\n          }}\n        >\n          <div className=\"migrateandrecover-migrate-box\">\n            <TextareaItem value={this.state.migrate.value} rows={10} placeholder=\"暂无待备份应用数据\" />\n            <div className=\"btn-box\">\n              <Clipboard\n                className=\"migrateandrecover-migrate-copy-btn\"\n                data-clipboard-text={this.state.migrate.value}\n                onSuccess={() => {\n                  alert('复制成功！')\n                }}\n                onError={() => {\n                  alert('复制失败，请手动选择复制')\n                }}\n              >\n                <Button type=\"ghost\">复制应用数据</Button>\n              </Clipboard>\n            </div>\n            <div className=\"migrateandrecover-hint-box\">\n              <p className=\"migrateandrecover-hint-title\">操作提示：</p>\n              <p>1、数据备份用于导出、备份应用数据到其他浏览器、设备；</p>\n              <p>2、点击“复制应用数据”按钮复制应用数据，若复制失败，则点击文本数据框，长按选中复制，切勿编辑文本；</p>\n              <p>3、为保护个人隐私，应用数据请妥善传输、存储；</p>\n              <p>4、为确保应用数据不丢失，应先在其他浏览器、设备打开应用恢复完成后，再清除当前应用数据。</p>\n            </div>\n          </div>\n          <div>\n            <TextareaItem\n              onChange={value => {\n                this.handleInputChange(value)\n              }}\n              value={this.state.recover.value}\n              rows={10}\n              placeholder=\"粘贴待恢复应用数据到此处\"\n            />\n            <div className=\"btn-box\">\n              <Button\n                onClick={() => {\n                  this.recoverData()\n                }}\n                loading={this.state.recover.doing}\n                type=\"ghost\"\n              >\n                恢复应用数据\n              </Button>\n            </div>\n            <div className=\"migrateandrecover-hint-box\">\n              <p className=\"migrateandrecover-hint-title\">操作提示：</p>\n              <p>1、数据恢复用于恢复从其他设备、浏览器导出的应用数据；</p>\n              <p>2、点击文本输入框，粘贴应用数据到输入框中；</p>\n              <p>3、点击“恢复应用数据”按钮进行恢复。</p>\n            </div>\n          </div>\n        </Tabs>\n      </section>\n    )\n  }\n}\n\nexport default MigrateAndRecover\n","/**\n * 运行环境正则校验\n * @see [MDN Web API Window.navigator]{@link https://developer.mozilla.org/en-US/docs/Web/API/Window/navigator}\n */\n\n/**\n * 获取 userAgent 字符串\n * @returns {String} 浏览器 userAgent 字符串\n */\nfunction getUserAgent() {\n  return window.navigator.userAgent + ''\n}\n\n/**\n * 判断设备是否为移动终端\n * @returns {Boolean} 设备是否为移动终端\n */\nexport function mobile() {\n  return /AppleWebKit.*Mobile.*/i.test(getUserAgent())\n}\n\n/**\n * 判断设备操作系统是否是 Android\n * @returns {Boolean} 设备操作系统是否是 Android\n */\nexport function android() {\n  return /android|linux/i.test(getUserAgent())\n}\n\n/**\n * 判断设备操作系统是否是 IOS\n * @returns {Boolean} 设备操作系统是否是 IOS\n */\nexport function ios() {\n  return /iphone|ipad/i.test(getUserAgent())\n}\n\n/**\n * 判断浏览器是否为 qq\n * @returns {Boolean} 浏览器是否为 qq\n */\nexport function qq() {\n  return /\\sQQ|MQQBrowser/.test(getUserAgent())\n}\n\n/**\n * 判断浏览器是否为微信\n * @returns {Boolean} 浏览器是否为微信\n */\nexport function weixin() {\n  return /micromessenger/i.test(getUserAgent())\n}\n\n/**\n * 判断浏览器是否为 Chrome\n * @returns {Boolean} 浏览器是否为 Chrome\n */\nexport function chrome() {\n  return /chrome/i.test(getUserAgent())\n}\n\n/**\n * 判断浏览器是否为 Safari\n * @returns {Boolean} 浏览器是否为 Safari\n */\nexport function safari() {\n  return /safari/i.test(getUserAgent()) && !chrome()\n}\n\n/**\n * 判断浏览器是否为 Firefox\n * @returns {Boolean} 浏览器是否为 Firefox\n */\nexport function firefox() {\n  return /firefox/i.test(getUserAgent())\n}\n\n/**\n * 判断浏览器是否为 Internet Explorer\n * @returns {Boolean} 浏览器是否为 Internet Explorer\n */\nexport function ie() {\n  return /MSIE/.test(getUserAgent())\n}\n\n/**\n * 判断浏览器是否为 Opera\n * @returns {Boolean} 浏览器是否为 Opera\n */\nexport function opera() {\n  return /opera/i.test(getUserAgent())\n}\n\n// 导出默认模块\nexport default {\n  android,\n  ios,\n  qq,\n  weixin,\n  chrome,\n  safari,\n  firefox,\n  ie,\n  opera\n}\n","/**\n * 文档标题操作\n */\n\n// 导入 ios 环境判断方法\nimport { ios } from './environment'\n\n/**\n * 设置页面标题\n * @param {*} title\n * * @example\n * import { set as setTitle } from 'knife/utils/title'\n * setTitle('首页')\n */\nexport function set(title) {\n  document.title = title\n  // hack 在 IOS webview 中修改 document.title 页头显示并没有改变的情况\n  if (!ios()) return\n  var iframe = document.createElement('iframe')\n  iframe.src = ''\n  iframe.style.display = 'none'\n  iframe.onload = function() {\n    var tid = setTimeout(function() {\n      iframe.remove()\n      clearTimeout(tid)\n    }, 0)\n  }\n  document.body.appendChild(iframe)\n}\n\n// 导出默认模块\nexport default {\n  set\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log('This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA')\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log('New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA.')\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.')\n    })\n}\n\nexport function unregister() {\n  return new Promise((resolve, reject) => {\n    if ('serviceWorker' in navigator) {\n      navigator.serviceWorker.ready\n        .then(registration => {\n          registration.unregister()\n          resolve()\n        })\n        .catch(err => {\n          reject(err)\n        })\n    } else {\n      resolve()\n    }\n  })\n}\n","/**\n * 设置\n * @module /views/Setting/index\n */\n\nimport './index.scss'\nimport React from 'react'\nimport { List } from 'antd-mobile'\nimport { set as setTitle } from '../../uitls/title'\nimport { version } from '../../uitls/version'\nimport { unregister } from '../../uitls/serviceWorker'\nimport { Local } from '../../uitls/Store'\n\nconst Item = List.Item\n\nclass Setting extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      list: [\n        // {\n        //   label: '统计',\n        //   path: '/analysis'\n        // },\n        {\n          label: '备份与恢复',\n          path: '/migrateandrecover'\n        },\n        // {\n        //   label: '清除所有数据',\n        //   hint: '是否确定清除所有数据？',\n        //   result: '所有数据已清除',\n        //   action: 'clear-data'\n        // },\n        {\n          label: '更新应用',\n          hint: '是否尝试更新应用？',\n          action: 'update-app'\n        }\n      ]\n    }\n  }\n\n  handlerListItemClick(item) {\n    if (item.path) {\n      setTitle(item.label)\n      window.location.replace('#' + item.path)\n    } else if (item.action) {\n      this.handlerAction(item)\n    }\n  }\n\n  handlerAction(item) {\n    if (window.confirm(item.hint)) {\n      if (item.action === 'clear-data') {\n        this.clearData()\n        window.alert(item.result)\n      } else if (item.action === 'update-app') {\n        this.updateApp()\n      }\n    }\n  }\n\n  clearData() {\n    Local.clear()\n  }\n\n  updateApp() {\n    unregister().then(() => {\n      window.location.reload()\n    })\n  }\n\n  render() {\n    return (\n      <section className=\"setting flex-column\">\n        <List className=\"setting-list\">\n          {this.state.list.map((item, dateIndex) => (\n            <Item\n              arrow=\"horizontal\"\n              onClick={() => {\n                this.handlerListItemClick(item)\n              }}\n              key={dateIndex}\n            >\n              {item.label}\n            </Item>\n          ))}\n        </List>\n        <div className=\"footer\">\n          <p className=\"app-name\">WAID?!</p>\n          <p className=\"version\">版本号：{version}</p>\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default Setting\n","export const version = '0.7.2'\n","import dayjs from 'dayjs'\nimport { getWAIDMatterByTitle } from './WAIDMatterList'\nimport { getRelativeDateTimeString } from '../uitls/common'\n\nexport function getMatterByTitle(title = '') {\n  let waidMatter = null\n  try {\n    waidMatter = getWAIDMatterByTitle(null, title)\n    let preRecord = {}\n    waidMatter.recordList.forEach(el => {\n      el.relativeStr = getRelativeDateTimeString(el.start, el.end)\n      el.relativeStrDiffPreRecord = getRelativeDateTimeString(preRecord.start, el.start)\n      el.startStr = dayjs(el.start).format('YYYY-MM-DD HH:mm:ss')\n      el.endStr = dayjs(el.end).format('YYYY-MM-DD HH:mm:ss')\n      preRecord = el\n    })\n    waidMatter.recordList.reverse()\n    waidMatter.createAtStr = dayjs(waidMatter.createAt).format('YYYY-MM-DD HH:mm:ss')\n    waidMatter.createAtStrDiffNow = getRelativeDateTimeString(waidMatter.createAt)\n    const lastRecord = waidMatter.recordList[0]\n    waidMatter.relativeStrDiffLastRecord = lastRecord ? getRelativeDateTimeString(lastRecord.start) : ''\n  } catch (err) {}\n  return waidMatter\n}\n","/**\n * 详情\n * @module /views/Detail/index\n */\n\nimport './index.scss'\nimport React from 'react'\nimport { List } from 'antd-mobile'\nimport { getMatterByTitle } from '../../services/Detail'\n\nconst Item = List.Item\n\nclass Detail extends React.Component {\n  constructor(props) {\n    super(props)\n    const title = this.props.match.params.title\n    this.state = {\n      title,\n      matter: getMatterByTitle(title)\n    }\n  }\n\n  render() {\n    let relativeStrDiffLastRecord = this.state.matter.relativeStrDiffLastRecord\n    return (\n      <section className=\"detail\">\n        <div className=\"detail-header\">\n          <p className=\"detail-title\">{this.state.matter.title}</p>\n          <p className=\"detail-sub-title\">创建于 {this.state.matter.createAtStr}</p>\n          <p className=\"detail-sub-title\">距现在 {this.state.matter.createAtStrDiffNow}</p>\n          {relativeStrDiffLastRecord ? <p className=\"detail-sub-title\">距最近 {relativeStrDiffLastRecord}</p> : ''}\n        </div>\n        <List className=\"detail-record-list\">\n          {this.state.matter.recordList.map((record, index) => (\n            <Item key={index}>\n              <p className=\"detail-record-title\">\n                {index + 1}. {record.relativeStr}\n              </p>\n              <p className=\"detail-record-info\">开始于 {record.startStr}</p>\n              <p className=\"detail-record-info\">结束于 {record.endStr}</p>\n              <p className=\"detail-record-info\">距上次 {record.relativeStrDiffPreRecord}</p>\n            </Item>\n          ))}\n        </List>\n        <div className=\"detail-footer\">-- 到底了 --</div>\n      </section>\n    )\n  }\n}\n\nexport default Detail\n","/**\n * 根组件\n * @module /views/App/index\n */\nimport './index.scss'\nimport React from 'react'\nimport Index from '../Index/index'\nimport Daily from '../Daily/index'\nimport MigrateAndRecover from '../MigrateAndRecover/index'\nimport Setting from '../Setting/index'\nimport Detail from '../Detail/index'\nimport { HashRouter as Router, Route } from 'react-router-dom'\nimport { Popover, Icon } from 'antd-mobile'\nimport { set as setTitle } from '../../uitls/title'\n\nconst PopoverItem = Popover.Item\nconst popover = {\n  vivible: false,\n  value: ''\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      popover: popover\n    }\n  }\n\n  handlePopoverVisibleChange(vivible) {\n    popover.vivible = vivible\n    this.setState({\n      popover: popover\n    })\n  }\n\n  onPopoverSelect(opt) {\n    setTitle(opt.props['data-title'])\n    window.location.replace('#' + opt.props.value)\n    this.handlePopoverVisibleChange(false)\n  }\n\n  render() {\n    return (\n      <section className=\"app\">\n        <Router>\n          <Route path=\"/\" exact component={Index} />\n          <Route path=\"/daily\" exact component={Daily} />\n          <Route path=\"/migrateandrecover\" exact component={MigrateAndRecover} />\n          <Route path=\"/setting\" exact component={Setting} />\n          <Route path=\"/detail/:title\" exact component={Detail} />\n          {/* 悬浮按钮 */}\n          <Popover\n            mask\n            overlayClassName=\"app-menu\"\n            visible={this.state.popover.vivible}\n            overlay={[\n              <PopoverItem value=\"/\" data-title=\"我在做些什么？！\">\n                <div className=\"app-menu-item\">我在做些什么？！</div>\n              </PopoverItem>,\n              <PopoverItem value=\"/daily\" data-title=\"日常\">\n                <div className=\"app-menu-item\">日常</div>\n              </PopoverItem>,\n              <PopoverItem value=\"/setting\" data-title=\"设置\">\n                <div className=\"app-menu-item\">设置</div>\n              </PopoverItem>\n            ]}\n            align={{\n              overflow: { adjustY: 0, adjustX: 0 },\n              offset: [-10, 0]\n            }}\n            placement=\"left\"\n            onVisibleChange={visible => this.handlePopoverVisibleChange(visible)}\n            onSelect={opt => this.onPopoverSelect(opt)}\n          >\n            <div className=\"index-more float-btn\">\n              <Icon type=\"ellipsis\" size=\"lg\" color=\"#666\" />\n            </div>\n          </Popover>\n        </Router>\n      </section>\n    )\n  }\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.scss'\nimport App from './views/App/'\nimport * as serviceWorker from './uitls/serviceWorker'\n\nimport 'dayjs/locale/zh-cn'\nimport dayjs from 'dayjs'\n\ndayjs.locale('zh-cn')\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register()\n"],"sourceRoot":""}