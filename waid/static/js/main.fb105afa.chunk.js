(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(t,e,n){},137:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),r=n(7),o=n.n(r),s=(n(75),n(11)),c=n(12),l=n(33),u=n(32),d=n(34),h=(n(76),n(66)),f=n.n(h),v=(n(124),n(68)),m=n.n(v),p=(n(64),n(49)),w=n.n(p),y=(n(135),function(){function t(e,n){Object(s.a)(this,t);var i="object"===typeof e?e:{title:e,timeList:n};this.title=i.title||"",this.startTime=i.startTime||0,this.relativeStr=i.relativeStr||"",this.timeList=i.timeList||[],this.checkTimeList()}return Object(c.a)(t,[{key:"checkTimeList",value:function(){this.timeList=this.timeList.filter(function(t){return"undefined"!==t.start&&"undefined"!==typeof t.end})}},{key:"start",value:function(){this.startTime||(this.startTime=Date.now(),this.timeList.push({start:this.startTime,end:0}))}},{key:"stop",value:function(){this.startTime=0,this.timeList[this.timeList.length-1].end=Date.now()}},{key:"update",value:function(){var t=Date.now(),e=Date.now()-this.startTime,n="";if(e>=864e5){var i=parseInt(e/864e5);e-=864e5*i,n+=i+"\u5929"}if(e>=36e5){var a=parseInt(e/36e5);e-=36e5*a,n+=a+"\u5c0f\u65f6"}if(e>=6e4){var r=parseInt(e/6e4);e-=6e4*r,n+=r+"\u5206"}if(e>=1e3){var o=parseInt(e/1e3);e-=1e3*o,n+=o+"\u79d2"}this.timeList[this.timeList.length-1].end=t,this.relativeStr=n}}]),t}()),g=function(){function t(){Object(s.a)(this,t)}return Object(c.a)(t,null,[{key:"get",value:function(t){var e=localStorage.getItem(t);try{e=JSON.parse(e)}catch(n){}return e}},{key:"set",value:function(t,e){try{e=JSON.stringify(e)}catch(n){}localStorage.setItem(t,e)}}]),t}(),k=w.a.Item,b={vivible:!1,value:""},L=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).localKey="waid-index-record-list",n.state={recordList:n.loadeRecordList(),modal:b},n.timerID=null,n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.start()}},{key:"componentDidUpdate",value:function(t,e){this.storeRecordList()}},{key:"componentWillUnmount",value:function(){this.stop()}},{key:"start",value:function(t){var e=this,n=this.state.recordList,i=n[t]||new y;i.started=!i.started,i.started||i.stop();var a=!1;n.forEach(function(t){a=a||t.started}),a?this.timerID?i.start():(i.start(),this.timerID=setInterval(function(){n.forEach(function(t){t.started&&t.update()}),e.setState({recordList:n})},1e3)):this.stop()}},{key:"stop",value:function(){clearInterval(this.timerID),this.timerID=null,this.storeRecordList()}},{key:"addItem",value:function(){if(!b.value)return alert("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u6807\u9898"),!1;var t=this.state.recordList;return t.push(new y(b.value)),this.setState({recordList:t}),!0}},{key:"switchModal",value:function(){b.vivible=!b.vivible,b.value=b.vivible?"":b.value,this.setState({modal:b})}},{key:"handleInputChange",value:function(t){b.value=t,this.setState({modal:b})}},{key:"loadeRecordList",value:function(){var t=g.get(this.localKey)||[],e=[];return t.forEach(function(t){var n=new y(t);n.started=t.started,e.push(n)}),e}},{key:"storeRecordList",value:function(){g.set(this.localKey,this.state.recordList)}},{key:"render",value:function(){var t=this;return a.a.createElement("section",{className:"index"},a.a.createElement(w.a,{renderHeader:function(){return"\u6211\u5728\u505a\u4e9b\u4ec0\u4e48\uff1f!"},className:"index-list"},this.state.recordList.map(function(e,n){return a.a.createElement(k,{onClick:function(){t.start(n)},extra:e.relativeStr,key:n},e.title)})),a.a.createElement("div",{className:"index-add",onClick:function(){return t.switchModal()}},"\u6dfb\u52a0\u4e8b\u9879"),a.a.createElement(f.a,{visible:this.state.modal.vivible,transparent:!0,maskClosable:!0,title:"\u8f93\u5165\u4e8b\u60c5\u7684\u6807\u9898",footer:[{text:"\u786e\u8ba4",onPress:function(){t.addItem()&&t.switchModal()}}]},a.a.createElement("div",{className:"btn"},a.a.createElement(m.a,{clear:!0,maxLength:"30",onChange:function(e){return t.handleInputChange(e)}}))))}}]),e}(a.a.Component),I=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return a.a.createElement("section",{className:"app"},a.a.createElement(L,null))}}]),e}(a.a.Component),j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function O(t,e){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}}).catch(function(t){console.error("Error during service worker registration:",t)})}o.a.render(a.a.createElement(I,null),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/waid",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/waid","/service-worker.js");j?(function(t,e){fetch(t).then(function(n){var i=n.headers.get("content-type");404===n.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):O(t,e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e,t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):O(e,t)})}}()},69:function(t,e,n){t.exports=n(137)},75:function(t,e,n){}},[[69,1,2]]]);
//# sourceMappingURL=main.fb105afa.chunk.js.map